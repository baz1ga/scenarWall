<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>ScenarWall â€“ GodMode</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="/css/back.css">

<script src="/js/common/config.js"></script>
<script src="/js/common/auth.js"></script>
<script src="/js/godmode.js"></script>

</head>
<body>

<div class="sidebar">
  <div class="menu-title">ðŸ‘‘ GodMode â€“ Administration</div>
  <div class="menu-item active" onclick="showSection('users', this)">
    ðŸ‘¥ Utilisateurs
  </div>
  <div class="menu-item" onclick="showSection('quota', this)">
    ðŸ“Š Quotas
  </div>
  <div class="menu-item" onclick="showSection('password', this)">
    ðŸ”‘ Changer mon mot de passe
  </div>
  <div class="menu-item logout" onclick="logout()">
    ðŸšª DÃ©connexion
  </div>
</div>

<div class="content">
  <div id="section-users" class="section active">
    <div class="section-title">Utilisateurs</div>
    <div class="section-toolbar">
      <label class="toggle-row">
        <input type="checkbox" id="filterInactiveUsers">
        <span>Masquer les inactifs</span>
      </label>
    </div>
    <table>
      <thead>
        <tr>
          <th>Email</th>
          <th>Tenant</th>
          <th>Images</th>
          <th>Usage</th>
          <th>DerniÃ¨re connexion</th>
          <th>Statut</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody id="user-table"></tbody>
    </table>
  </div>

  <div id="section-quota" class="section">
    <div class="section-title">Quota global & tenants</div>
    <div class="settings-card">
      <label for="globalQuotaInput">Quota global par dÃ©faut (Mo)</label>
      <div class="inline-field">
        <input type="number" id="globalQuotaInput" min="1" step="1" placeholder="Ex: 100">
        <button class="btn primary" onclick="saveGlobalQuota()">Mettre Ã  jour</button>
      </div>
      <div id="globalQuotaMessage" class="msg"></div>
    </div>

    <div class="section-toolbar">
      <label class="toggle-row">
        <input type="checkbox" id="filterInactiveQuota">
        <span>Masquer les inactifs</span>
      </label>
    </div>

    <table>
      <thead>
        <tr>
          <th>Email</th>
          <th>Usage</th>
          <th>Statut</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="quota-user-table"></tbody>
    </table>
  </div>

  <div id="section-password" class="section">
    <div class="section-title">Changer mon mot de passe</div>
    <div class="settings-card">
      <label>Mot de passe actuel</label>
      <input type="password" id="currentPassword" placeholder="Votre mot de passe actuel">

      <label>Nouveau mot de passe</label>
      <input type="password" id="newPassword" placeholder="Au moins 8 caractÃ¨res">

      <label>Confirmation</label>
      <input type="password" id="confirmPassword" placeholder="Confirmez le nouveau mot de passe">

      <button class="btn primary" onclick="changePassword()">Mettre Ã  jour</button>
      <div id="pwdMessage" class="msg"></div>
    </div>
  </div>
</div>

<script>
  function showSection(name, el) {
    document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
    document.querySelectorAll(".menu-item").forEach(m => m.classList.remove("active"));

    document.getElementById(`section-${name}`).classList.add("active");
    el.classList.add("active");
  }
</script>

</body>
</html>
