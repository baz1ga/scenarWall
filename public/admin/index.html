<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>ScenarWall â€“ Administration</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/back.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<script src="/js/common/legal-footer.js" defer></script>
</head>
<body>

<!-- ---------------- SIDEBAR ---------------- -->
<div class="sidebar">
  <div class="menu-title">Administration</div>

  <div class="menu-item active" onclick="showSection('visible', this)">
    ğŸ“ Images visibles
  </div>
  
  <div class="menu-item" onclick="showSection('hidden', this)">
    ğŸ—‚ï¸ Images cachÃ©es
  </div>
  <div class="menu-item front-link" onclick="openFront()">
    ğŸ¬ Voir le Front
  </div>
  <div class="menu-item" onclick="showSection('password', this)">
    ğŸ”‘ Changer mon mot de passe
  </div>
  <div class="menu-item logout" onclick="logout()">
    ğŸšª DÃ©connexion
  </div>

  <div class="sidebar-donation" data-include="donation-box"></div>
  <div class="sidebar-footer" data-include="legal-footer" data-variant="back"></div>
</div>

<!-- ---------------- MAIN CONTENT ---------------- -->
<div class="content">

  <!-- UPLOAD -->
  <div id="uploadBox" class="upload-box" onclick="fileInput.click()">
    ğŸ“¤ Cliquez ici pour uploader une image
    <input id="fileInput" type="file" accept="image/*">
  </div>

  <!-- SECTION : VISIBLES -->
  <div id="section-visible" class="section active">
    <div class="section-title">Images visibles</div>
    <div id="list-visible"></div>
  </div>

  <!-- SECTION : CACHÃ‰ES -->
  <div id="section-hidden" class="section">
    <div class="section-title">Images cachÃ©es</div>
    <div id="list-hidden"></div>
  </div>

  <!-- SECTION : PASSWORD -->
  <div id="section-password" class="section">
    <div class="section-title">Changer mon mot de passe</div>
    <div class="settings-card">
      <label>Mot de passe actuel</label>
      <input type="password" id="currentPassword" placeholder="Votre mot de passe actuel">

      <label>Nouveau mot de passe</label>
      <input type="password" id="newPassword" placeholder="Au moins 8 caractÃ¨res">

      <label>Confirmation</label>
      <input type="password" id="confirmPassword" placeholder="Confirmez le nouveau mot de passe">

      <button class="btn primary" onclick="changePassword()">Mettre Ã  jour</button>
      <div id="pwdMessage" class="msg"></div>
    </div>
  </div>

</div>

<script src="/js/common/config.js"></script>
<script src="/js/common/auth.js"></script>
<script src="/js/admin.js"></script>

<script>
  function showSection(name, el) {
    document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
    document.querySelectorAll(".menu-item").forEach(m => m.classList.remove("active"));

    document.getElementById(`section-${name}`).classList.add("active");
    el.classList.add("active");

    const uploadBox = document.getElementById("uploadBox");
    if (uploadBox) {
      uploadBox.style.display = (name === "visible" || name === "hidden") ? "block" : "none";
    }
  }
</script>

</body>
</html>
